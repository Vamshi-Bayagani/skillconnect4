{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Notifications ¬∑ SkillConnect</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  min-height: 100vh;
  background: linear-gradient(135deg, #020617, #0ea5e9, #6366f1, #22c55e, #f97316);
  background-size: 350% 350%;
  animation: bgMove 18s ease infinite;
  color: #e5e7eb;
  justify-content: center;
  margin:0;
  font-family:Poppins,system-ui;
  display:flex;
}

@keyframes bgMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.wrapper{
  width:100%;
  max-width:720px;
}

.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:18px;
}

.header h2{
  font-size:20px;
  font-weight:600;
}

.header a{
  font-size:12px;
  color:#60a5fa;
  text-decoration:none;
}

.card{
  background:rgba(15,23,42,0.96);
  border-radius:20px;
  box-shadow:0 30px 80px rgba(0,0,0,.7);
  overflow:hidden;
}

.notification{
  padding:14px 16px;
  display:flex;
  gap:12px;
  border-bottom:1px solid rgba(148,163,184,.12);
  transition:.2s;
}

.notification:last-child{
  border-bottom:none;
}

.notification:hover{
  background:rgba(148,163,184,.06);
}

.notification.unread{
  background:rgba(34,197,94,.08);
}

.icon{
  width:36px;
  height:36px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:16px;
  flex-shrink:0;
}

.icon.proposal{background:rgba(59,130,246,.2);color:#bfdbfe}
.icon.chat{background:rgba(34,197,94,.2);color:#bbf7d0}
.icon.job{background:rgba(234,179,8,.2);color:#fde68a}

.content{
  flex:1;
}

.text{
  font-size:14px;
  line-height:1.4;
}

.time{
  font-size:11px;
  opacity:.7;
  margin-top:4px;
}

.empty{
  padding:40px;
  text-align:center;
  font-size:14px;
  opacity:.7;
}
</style>
</head>

<body>
<div class="wrapper">

  <!-- HEADER -->
  <div class="header">
    <h2>üîî Notifications</h2>
    {% if request.user.role == "client" %}
    <a href="{% url 'recruiter_dashboard' %}">‚Üê Back to dashboard</a>
    {% else %}
    <a href="{% url 'freelancer_dashboard' %}">‚Üê Back to dashboard</a>
    {% endif %}
  </div>

  <!-- NOTIFICATIONS -->
  <div class="card">

    {% if notifications %}
      {% for n in notifications %}
        <div class="notification {% if not n.is_read %}unread{% endif %}">
          
          <!-- ICON -->
          {% if "proposal" in n.text|lower %}
            <div class="icon proposal">üìÑ</div>
          {% elif "message" in n.text|lower %}
            <div class="icon chat">üí¨</div>
          {% elif "job" in n.text|lower %}
            <div class="icon job">üöÄ</div>
          {% else %}
            <div class="icon">üîî</div>
          {% endif %}

          <!-- CONTENT -->
          <div class="content">
            <div class="text">{{ n.text }}</div>
            <div class="time">{{ n.created_at|timesince }} ago</div>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <div class="empty">
        üéâ You‚Äôre all caught up! <br>
        No new notifications.
      </div>
    {% endif %}

  </div>
</div>
</body>
</html>
